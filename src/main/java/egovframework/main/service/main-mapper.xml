<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.main.service.mainMapper">
	<insert id="insertLCALS"
		parameterType="egovframework.main.service.LCALSVO">
		insert into
		largeclassification(lcals_name,lcals_intrcn,lcals_level)
		values(#{LCALS_NAME},#{LCALS_INTRCN},#{LCALS_LEVEL});
	</insert>

	<insert id="insertLACLSLOG"
		parameterType="egovframework.main.service.LCALSVO">
		insert into
		largeclassificationlog(
		lcals_id, lcals_name,
		lcals_intrcn, lcals_level,
		lcals_log_division, lcals_log_performer,
		lcals_log_date
		)
		values(
		#{LCALS_ID},#{LCALS_NAME},#{LCALS_INTRCN},#{LCALS_LEVEL},
		#{LCALS_LOG_DIVISION},#{LCALS_LOG_PERFORMER},#{LCALS_LOG_DATE}
		);
	</insert>

	<delete id="deleteLCALS"
		parameterType="egovframework.main.service.LCALSVO">
		delete from largeclassification
		where lcals_id =
		#{LCALS_ID}
	</delete>

	<update id="updateLCALS"
		parameterType="egovframework.main.service.LCALSVO">
		update largeclassification set LCALS_ID=LCALS_ID
		<if test="lcals_name != null">
			, lcals_name = #{lcals_name}
		</if>
		<if test="lcals_intrcn != null">
			, lcals_intrcn = #{lcals_intrcn}
		</if>
		<if test="lcals_level != null">
			, lcals_level = #{lcals_level}
		</if>
		<if test="lcals_yn != null">
			, lcals_yn = #{lcals_yn}
		</if>
		where lcals_id = #{lcals_id}
	</update>

	<select id="selectALLLCALS">
		select lcals_id, lcals_name, lcals_intrcn,
		lcals_level from largeclassification
	</select>

	<select id="selectALLLCALSLOG">
		select lcals_log_id, lcals_id, lcals_name,
		lcals_intrcn, lcals_level,
		lcals_log_division, lcals_log_performer,
		lcals_log_date
		from largeclassificationLog
	</select>

	<select id="selectLCALS"
		parameterType="egovframework.main.service.LCALSVO">
		select lcals_id, lcals_name, lcals_intrcn, lcals_level
		from largeclassification where lcals_id = #{lcals_id}
	</select>

	<select id="selectLCALSLOG"
		parameterType="egovframework.main.service.LCALSVO">
		select lcals_log_id, lcals_id, lcals_name,
		lcals_intrcn, lcals_level,
		lcals_log_division, lcals_log_performer, lcals_log_date
		from
		largeclassificationLog
		where 1=1
		<if test="lcals_log_id != null">
			lcals_log_id = #{lcals_log_id}
		</if>
		<if test="lcals_id != null">
			lcals_id = #{lcals_id}
		</if>
	</select>

	<select id="getLCALSID" resultType="int">
		select
		ifnull(max(lcals_id),0) from largeclassification
	</select>

	<insert id="insertMenuDetail"
		parameterType="egovframework.main.service.MenuDetailVO">
		insert into
		MenuDetail(lcals_id,menu_name,menu_file,menu_eventn,menu_link,menu_content)
		value(
		#{lcals_id},#{menu_name},#{menu_file},#{menu_eventn},#{menu_link},#{menu_content}
		)
	</insert>

	<insert id="insertMenuDetailLOG"
		parameterType="egovframework.main.service.MenuDetailVO">
		insert into
		MenuDetailLog(menu_id, lcals_id, menu_name, menu_file, menu_eventn, menu_link, menu_content,
		menu_log_performer, menu_log_division, menu_log_date)
		value(
			#{menu_id},#{lcals_id},#{menu_name},#{menu_file},#{menu_eventn},#{menu_link},#{menu_content},
			#{menu_log_performer},#{menu_log_division},#{menu_log_date}
		)
	</insert>

	<delete id="deleteMenuDetail"
		parameterType="egovframework.main.service.MenuDetailVO">
		delete from menudetail where menu_id = #{menu_id}
	</delete>

	<update id="updateMenuDetail"
		parameterType="egovframework.main.service.MenuDetailVO">
		update MenuDetail set menu_id = menu_id
		<if test="menu_name != null">
			, menu_name = #{menu_name}
		</if>
		<if test="menu_link != null">
			, menu_link = #{menu_link}
		</if>
		<if test="menu_content != null">
			, menu_content = #{menu_content}
		</if>
		<if test="menu_yn != null">
			, menu_yn = #{menu_yn}
		</if>
	</update>

	<select id="selectALLMenuDetail">
		select menu_id, lcals_id, menu_name, menu_file, menu_eventn, menu_link, menu_content, menu_yn
		from MenuDetail
	</select>

	<select id="selectMenuDetail"
		parameterType="egovframework.main.service.MenuDetailVO">
		select menu_id, lcals_id, menu_name, menu_file, menu_eventn, menu_link, menu_content, menu_yn
		from MenuDetail
		where menu_id = #{menu_id}
	</select>

	<select id="selectALLMenuDetailLOG">
		select menu_id, lcals_id, menu_name, menu_file, menu_eventn, menu_link, menu_content, menu_yn
		from MenuDetailLog
	</select>

	<select id="selectMenuDetailLOG"
		parameterType="egovframework.main.service.MenuDetailVO">
		select menu_id, lcals_id, menu_name, menu_file, menu_eventn, menu_link, menu_content, menu_yn
		from MenuDetaillog
		where menu_log_id = #{menu_log_id}
	</select>

	<select id="getMenuDetailID" resultType="int">
		select
		ifnull(max(menu_id),0) from MenuDetail
	</select>
	
</mapper>